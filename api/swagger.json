{
    "swagger": "2.0",
    "info": {
        "title": "uniinfo api",
        "description": "definition of api for uniinfo, a project for the SE2 course",
        "version": "1.0.0"
    },
    "host": "uniinfo.herokuapp.com",
    "schemes": [
        "https"
    ],
    "basePath": "/",
    "produces": [
        "application/json",
        "text"
    ],
    "paths": {
        "/data/universities": {
            "get": {
                "summary": "Returns all university names.",
                "description": "Returns a JSON object with an array having all universities names stored in the db.",
                "responses": {
                    "200": {
                        "description": "Everything went well, sending JSON.",
                        "schema": {
                            "$ref": "#/definitions/uniList"
                        }
                    },
                    "500": {
                        "description": "Internal error, sending error object.",
                        "schema": {
                            "$ref": "#/definitions/errorObj"
                        }
                    }
                }
            }
        },
        "/data/faculties": {
            "get": {
                "summary": "Returns all faculties names.",
                "description": "Returns a JSON object with an array having all faculties names stored in the db.",
                "responses": {
                    "200": {
                        "description": "Everything went well, sending JSON.",
                        "schema": {
                            "$ref": "#/definitions/facList"
                        }
                    },
                    "500": {
                        "description": "Internal error, sending error object.",
                        "schema": {
                            "$ref": "#/definitions/errorObj"
                        }
                    }
                }
            }
        },
        "/data": {
            "get": {
                "summary": "Given a university name find data about it.",
                "description": "Given a university name returns a JSON objects with data about that university, an empy object if no data is found, an error object if a server error occurred.",
                "parameters": [
                    {
                        "name": "uni",
                        "in": "query",
                        "description": "Name of the university to search for.",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Everything went well, sending JSON.",
                        "schema": {
                            "$ref": "#/definitions/university"
                        }
                    },
                    "406": {
                        "description": "Missing parameter, sending empty JSON object.",
                        "schema": {}
                    },
                    "500": {
                        "description": "Internal error, sending error object.",
                        "schema": {
                            "$ref": "#/definitions/errorObj"
                        }
                    }
                }
            }
        },
        "/noscript": {
            "get": {
                "summary": "Pure html page with list of universities and link to more details for each one if the uni parameter is specified.",
                "description": "Html page for users with no javascript, has a list of links (each for one university), that will reload the page (after contacting the server at the same url but querying with a paramer \"uni\") with further details about that university.",
                "parameters": [
                    {
                        "name": "uni",
                        "in": "query",
                        "description": "Name of the university to search for.",
                        "required": false,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Everything went well, sending html page."
                    },
                    "500": {
                        "description": "Internal error, sending to error page if possible."
                    }
                }
            }
        },
        "/": {
            "get": {
                "summary": "Home of the application.",
                "description": "Home of the application, where the user can click on a map to selet a university and get info about it, selecting two universities allows the user to compare them.",
                "responses": {
                    "200": {
                        "description": "Everything went well, sending html page."
                    },
                    "500": {
                        "description": "Internal error, sending to error page if possible."
                    }
                }
            }
        }
    },
    "definitions": {
        "uniList": {
            "properties": {
                "names": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of universy names."
                }
            }
        },
        "facList": {
            "properties": {
                "names": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of faculty names."
                }
            }
        },
        "errorObj": {
            "properties": {
                "error": {
                    "type": "string",
                    "description": "An object to signal the happenng of an error {error:error}"
                }
            }
        },
        "faculty": {
            "properties": {
                "uni_name": {
                    "type": "string",
                    "description": "Name of the university wich the faculty belongs to."
                },
                "name": {
                    "type": "string",
                    "description": "Name of the faculty."
                },
                "prof_per_stud": {
                    "type": "number",
                    "description": "Percentage of professors relative to students."
                },
                "job_after_degree": {
                    "type": "number",
                    "description": "Number of students that find a job in 3 months after receiving their degree."
                },
                "languages_classes": {
                    "type": "boolean",
                    "description": "If the faculty has lectures in languages different than italian."
                },
                "age_prof": {
                    "type": "integer",
                    "description": "Average age of a professor."
                },
                "cit_prof": {
                    "type": "integer",
                    "description": "Average citations of a professor in the research field."
                },
                "total_cit": {
                    "type": "integer",
                    "description": "Total number of citations of the professors of the faculty."
                },
                "annual_funding": {
                    "type": "integer",
                    "description": "Annual funding of the faculty."
                },
                "laboraties": {
                    "type": "integer",
                    "description": "Number of laboratories."
                },
                "avg_income": {
                    "type": "integer",
                    "description": "Average income of the city where the faculty is located."
                },
                "internet_speeed": {
                    "type": "number",
                    "description": "Average internet speed of the city where the faculty is loccated."
                },
                "pop_density": {
                    "type": "integer",
                    "description": "Population density of the city where the faculty is located."
                },
                "english_knownledge": {
                    "type": "number",
                    "description": "Percentage of people that know english in the city where the faculty is located."
                }
            }
        },
        "university": {
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Name of the university."
                },
                "prof_per_stud": {
                    "type": "number",
                    "description": "Percentage of professors relative to students."
                },
                "job_after_degree": {
                    "type": "number",
                    "description": "Number of students that find a job in 3 months after receiving their degree."
                },
                "languages_classes": {
                    "type": "boolean",
                    "description": "If the university has lectures in languages different than italian."
                },
                "age_prof": {
                    "type": "integer",
                    "description": "Average age of a professor."
                },
                "cit_prof": {
                    "type": "integer",
                    "description": "Average citations of a professor in the research field."
                },
                "total_cit": {
                    "type": "integer",
                    "description": "Total number of citations of the professors of the university."
                },
                "annual_funding": {
                    "type": "integer",
                    "description": "Annual funding of the university."
                },
                "laboraties": {
                    "type": "integer",
                    "description": "Number of laboratories."
                },
                "avg_income": {
                    "type": "integer",
                    "description": "Average income of the city where the university is located."
                },
                "internet_speeed": {
                    "type": "number",
                    "description": "Average internet speed of the city where the university is loccated."
                },
                "pop_density": {
                    "type": "integer",
                    "description": "Population density of the city where the university is located."
                },
                "english_knownledge": {
                    "type": "number",
                    "description": "Percentage of people that know english in the city where the university is located."
                },
                "faculties": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/faculty"
                    }
                }
            }
        }
    }
}